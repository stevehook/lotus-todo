"use strict";angular.module("todoApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).run(["$http",function(a){a.defaults.headers.common.Accept="application/json"}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/archive",{templateUrl:"views/archive.html",controller:"ArchiveCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("todoApp").controller("MainCtrl",["$scope","$http",function(a,b){a.tasks=[],b.get("/api/tasks").success(function(b){a.tasks=b,a.newTask={}}),a.completeTask=function(a){a.completed||b.post("/api/tasks/"+a.id+"/complete",a,{headers:{"X-Http-Method-Override":"PATCH"}}).success(function(){a.completed=!0}).error(function(){console.log("failed")})},a.deleteTask=function(c){b.delete("/api/tasks/"+c.id,c,{}).success(function(){a.tasks.splice(a.tasks.indexOf(c),1)}).error(function(){console.log("failed")})},a.createTask=function(){a.isValid(a.newTask)&&b.post("/api/tasks",{task:a.newTask},{headers:{"X-Http-Method-Override":"PATCH"}}).success(function(b){a.tasks.push(b),a.newTask={}}).error(function(){console.log("failed")})},a.isValid=function(a){return a.title&&""!==a.title}}]),angular.module("todoApp").controller("ArchiveCtrl",["$scope","$http",function(a,b){a.tasks=[],b.get("/api/tasks/archive").success(function(b){a.tasks=b})}]),angular.module("todoApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);